{"version":3,"sources":["webpack:///1.9a5feb0c0652b9867347.js","webpack:///./src/routes/Map/modules/map.js","webpack:///./src/routes/Map/container/MapContainer.js","webpack:///./~/babel-runtime/helpers/defineProperty.js?172e"],"names":["webpackJsonp","730","module","__webpack_exports__","__webpack_require__","initISSPosition","dispatch","type","fetch","then","response","json","message","MAP_ADD_MARKER","payload","parseFloat","iss_position","latitude","longitude","console","log","catch","error","whoIsInSpace","UPDATE_PEOPLE_IN_SPACE","people","whenWillPassThroughYou","c","lat","long","mode","SAVE_WHEN_WILL_PASS_THROUGH","togglePeopleInfo","TOGGLE_PEOPLE_INFO","togglePassInfo","TOGGLE_PASS_INFO","toggleBasemap","basemap","TOGGLE_BASEMAP","counterReducer","state","arguments","length","undefined","initialState","action","handler","ACTION_HANDLERS","Object","defineProperty","value","d","MAP_UPDATE_MARKER","ADD_POINT_TO_LINE","LOADING_START","LOADING_STOP","_ACTION_HANDLERS","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","n","assign","position","pass","info","line","concat","loading","732","__WEBPACK_IMPORTED_MODULE_0_react_redux__","__WEBPACK_IMPORTED_MODULE_1__modules_map__","__WEBPACK_IMPORTED_MODULE_2__components_MapView__","mapDispatchToProps","i","coords","mapStateToProps","map","733","exports","__esModule","_defineProperty","_defineProperty2","obj","default","key","enumerable","configurable","writable"],"mappings":"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","file":"1.9a5feb0c0652b9867347.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 730:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAP_ADD_MARKER\", function() { return MAP_ADD_MARKER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MAP_UPDATE_MARKER\", function() { return MAP_UPDATE_MARKER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UPDATE_PEOPLE_IN_SPACE\", function() { return UPDATE_PEOPLE_IN_SPACE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SAVE_WHEN_WILL_PASS_THROUGH\", function() { return SAVE_WHEN_WILL_PASS_THROUGH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TOGGLE_PEOPLE_INFO\", function() { return TOGGLE_PEOPLE_INFO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TOGGLE_PASS_INFO\", function() { return TOGGLE_PASS_INFO; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TOGGLE_BASEMAP\", function() { return TOGGLE_BASEMAP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ADD_POINT_TO_LINE\", function() { return ADD_POINT_TO_LINE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOADING_START\", function() { return LOADING_START; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOADING_STOP\", function() { return LOADING_STOP; });\n/* harmony export (immutable) */ __webpack_exports__[\"initISSPosition\"] = initISSPosition;\n/* harmony export (immutable) */ __webpack_exports__[\"whoIsInSpace\"] = whoIsInSpace;\n/* harmony export (immutable) */ __webpack_exports__[\"whenWillPassThroughYou\"] = whenWillPassThroughYou;\n/* harmony export (immutable) */ __webpack_exports__[\"togglePeopleInfo\"] = togglePeopleInfo;\n/* harmony export (immutable) */ __webpack_exports__[\"togglePassInfo\"] = togglePassInfo;\n/* harmony export (immutable) */ __webpack_exports__[\"toggleBasemap\"] = toggleBasemap;\n/* harmony export (immutable) */ __webpack_exports__[\"default\"] = counterReducer;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(733);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n\n\nvar _ACTION_HANDLERS;\n\n// ------------------------------------\n// Services\n// ------------------------------------\nvar geoJsonTransformer = function geoJsonTransformer(coordinates) {\n  return {\n    geomatory: {\n      coordinates: coordinates,\n      type: 'Point'\n    },\n    properties: {}\n  };\n};\n\n// ------------------------------------\n// Constants\n// ------------------------------------\nvar MAP_ADD_MARKER = 'MAP_ADD_MARKER';\nvar MAP_UPDATE_MARKER = 'MAP_UPDATE_MARKER';\nvar UPDATE_PEOPLE_IN_SPACE = 'UPDATE_PEOPLE_IN_SPACE';\nvar SAVE_WHEN_WILL_PASS_THROUGH = 'SAVE_WHEN_WILL_PASS_THROUGH';\nvar TOGGLE_PEOPLE_INFO = 'TOGGLE_PEOPLE_INFO';\nvar TOGGLE_PASS_INFO = 'TOGGLE_PASS_INFO';\nvar TOGGLE_BASEMAP = 'TOGGLE_BASEMAP';\nvar ADD_POINT_TO_LINE = 'ADD_POINT_TO_LINE';\nvar LOADING_START = 'LOADING_START';\nvar LOADING_STOP = 'LOADING_STOP';\n\n// ------------------------------------\n// Actions\n// ------------------------------------\nfunction initISSPosition() {\n  return function (dispatch) {\n    dispatch({ type: 'LOADING_START' });\n    return fetch('//api.open-notify.org/iss-now.json').then(function (response) {\n      response.json().then(function (json) {\n        if (json.message === 'success') {\n          dispatch({ type: MAP_ADD_MARKER, payload: [parseFloat(json.iss_position.latitude), parseFloat(json.iss_position.longitude)] });\n          dispatch({ type: 'ADD_POINT_TO_LINE', payload: [parseFloat(json.iss_position.longitude), parseFloat(json.iss_position.latitude)] });\n          dispatch({ type: 'LOADING_STOP' });\n        } else console.log(json);\n      });\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n}\n\nfunction whoIsInSpace() {\n  return function (dispatch) {\n    return fetch('//api.open-notify.org/astros.json').then(function (response) {\n      response.json().then(function (json) {\n        if (json.message === 'success') {\n          dispatch({ type: UPDATE_PEOPLE_IN_SPACE, payload: json.people });\n        } else console.log(json);\n      });\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n}\n\nfunction whenWillPassThroughYou(c) {\n  return function (dispatch) {\n    return fetch('//api.open-notify.org/iss-pass.json?lat=' + c.lat + '&lon=' + c.long, { mode: 'cors' }).then(function (response) {\n      response.json().then(function (json) {\n        dispatch({ type: SAVE_WHEN_WILL_PASS_THROUGH, payload: json });\n      });\n    }).catch(function (error) {\n      throw error;\n    });\n  };\n}\n\nfunction togglePeopleInfo() {\n  return {\n    type: TOGGLE_PEOPLE_INFO\n  };\n}\nfunction togglePassInfo() {\n  return {\n    type: TOGGLE_PASS_INFO\n  };\n}\n\nfunction toggleBasemap(basemap) {\n  return {\n    type: TOGGLE_BASEMAP,\n    payload: basemap\n  };\n}\n\n// ------------------------------------\n// Action Handlers\n// ------------------------------------\nvar ACTION_HANDLERS = (_ACTION_HANDLERS = {}, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_ACTION_HANDLERS, MAP_ADD_MARKER, function (state, action) {\n  return Object.assign({}, state, { position: action.payload });\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_ACTION_HANDLERS, UPDATE_PEOPLE_IN_SPACE, function (state, action) {\n  return Object.assign({}, state, { people: action.payload });\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_ACTION_HANDLERS, SAVE_WHEN_WILL_PASS_THROUGH, function (state, action) {\n  return Object.assign({}, state, { pass: action.payload });\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_ACTION_HANDLERS, TOGGLE_PASS_INFO, function (state, action) {\n  return Object.assign({}, state, { info: { pass: !state.info.pass, people: state.info.people } });\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_ACTION_HANDLERS, TOGGLE_PEOPLE_INFO, function (state, action) {\n  return Object.assign({}, state, { info: { people: !state.info.people, pass: state.info.pass } });\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_ACTION_HANDLERS, TOGGLE_BASEMAP, function (state, action) {\n  return Object.assign({}, state, { basemap: action.payload });\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_ACTION_HANDLERS, ADD_POINT_TO_LINE, function (state, action) {\n  return Object.assign({}, state, { line: state.line.concat([action.payload]) });\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_ACTION_HANDLERS, LOADING_START, function (state, action) {\n  return Object.assign({}, state, { loading: true });\n}), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_ACTION_HANDLERS, LOADING_STOP, function (state, action) {\n  return Object.assign({}, state, { loading: false });\n}), _ACTION_HANDLERS);\n\n// ------------------------------------\n// Reducer\n// ------------------------------------\nvar initialState = {\n  loading: false,\n  position: [0, 0],\n  info: {\n    people: true,\n    pass: true\n  },\n  basemap: 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n  line: [[0, 0]]\n};\n\nfunction counterReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  var handler = ACTION_HANDLERS[action.type];\n  return handler ? handler(state, action) : state;\n}\n\n/***/ }),\n\n/***/ 732:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react_redux__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__modules_map__ = __webpack_require__(730);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_MapView__ = __webpack_require__(389);\n\n //Actions\n\n/*  This is a container component. Notice it does not contain any JSX,\r\n    nor does it import React. This component is **only** responsible for\r\n    wiring in the actions and state necessary to render a presentational\r\n    component - in this case, the counter:   */\n\n // JSX Component\n\n/*  Object of action creators (can also be function that returns object).\r\n    Keys will be passed as props to presentational components. Here we are\r\n    implementing our wrapper around increment; the component doesn't care   */\n\nvar mapDispatchToProps = {\n    initISSPosition: function initISSPosition() {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__modules_map__[\"initISSPosition\"])();\n    },\n    whoIsInSpace: function whoIsInSpace() {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__modules_map__[\"whoIsInSpace\"])();\n    },\n    whenWillPassThroughYou: function whenWillPassThroughYou(coords) {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__modules_map__[\"whenWillPassThroughYou\"])(coords);\n    },\n    togglePeopleInfo: function togglePeopleInfo() {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__modules_map__[\"togglePeopleInfo\"])();\n    },\n    togglePassInfo: function togglePassInfo() {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__modules_map__[\"togglePassInfo\"])();\n    },\n    toggleBasemap: function toggleBasemap(basemap) {\n        return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__modules_map__[\"toggleBasemap\"])(basemap);\n    }\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n    return {\n        map: state.map\n    };\n};\n\n/*  Note: mapStateToProps is where you should use `reselect` to create selectors, ie:\r\n\r\n    import { createSelector } from 'reselect'\r\n    const counter = (state) => state.counter\r\n    const tripleCount = createSelector(counter, (count) => count * 3)\r\n    const mapStateToProps = (state) => ({\r\n      counter: tripleCount(state)\r\n    })\r\n\r\n    Selectors can compute derived data, allowing Redux to store the minimal possible state.\r\n    Selectors are efficient. A selector is not recomputed unless one of its arguments change.\r\n    Selectors are composable. They can be used as input to other selectors.\r\n    https://github.com/reactjs/reselect    */\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_react_redux__[\"connect\"])(mapStateToProps, mapDispatchToProps)(__WEBPACK_IMPORTED_MODULE_2__components_MapView__[\"a\" /* default */]));\n\n/***/ }),\n\n/***/ 733:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(388);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 1.9a5feb0c0652b9867347.js","// ------------------------------------\r\n// Services\r\n// ------------------------------------\r\nconst geoJsonTransformer = (coordinates) => ({\r\n  geomatory: {\r\n    coordinates: coordinates,\r\n    type: 'Point'\r\n  },\r\n  properties: {\r\n\r\n  }\r\n})\r\n\r\n// ------------------------------------\r\n// Constants\r\n// ------------------------------------\r\nexport const MAP_ADD_MARKER = 'MAP_ADD_MARKER'\r\nexport const MAP_UPDATE_MARKER = 'MAP_UPDATE_MARKER'\r\nexport const UPDATE_PEOPLE_IN_SPACE = 'UPDATE_PEOPLE_IN_SPACE'\r\nexport const SAVE_WHEN_WILL_PASS_THROUGH = 'SAVE_WHEN_WILL_PASS_THROUGH'\r\nexport const TOGGLE_PEOPLE_INFO = 'TOGGLE_PEOPLE_INFO'\r\nexport const TOGGLE_PASS_INFO = 'TOGGLE_PASS_INFO'\r\nexport const TOGGLE_BASEMAP = 'TOGGLE_BASEMAP'\r\nexport const ADD_POINT_TO_LINE = 'ADD_POINT_TO_LINE'\r\nexport const LOADING_START = 'LOADING_START'\r\nexport const LOADING_STOP = 'LOADING_STOP'\r\n\r\n// ------------------------------------\r\n// Actions\r\n// ------------------------------------\r\nexport function initISSPosition () {\r\n  return function (dispatch) {\r\n    dispatch({ type : 'LOADING_START' })\r\n    return fetch(`//api.open-notify.org/iss-now.json`).then((response) => {\r\n      response.json().then(json => {\r\n        if (json.message === 'success') {\r\n          dispatch({ type: MAP_ADD_MARKER, payload: [parseFloat(json.iss_position.latitude), parseFloat(json.iss_position.longitude)] })\r\n          dispatch({ type: 'ADD_POINT_TO_LINE', payload: [parseFloat(json.iss_position.longitude), parseFloat(json.iss_position.latitude)] })\r\n          dispatch({ type : 'LOADING_STOP' })\r\n        } else console.log(json)\r\n      })\r\n    }).catch(error => {\r\n      throw (error)\r\n    })\r\n  }\r\n}\r\n\r\nexport function whoIsInSpace () {\r\n  return function (dispatch) {\r\n    return fetch(`//api.open-notify.org/astros.json`).then((response) => {\r\n      response.json().then(json => {\r\n        if (json.message === 'success') { dispatch({ type: UPDATE_PEOPLE_IN_SPACE, payload: json.people }) } else console.log(json)\r\n      })\r\n    }).catch(error => {\r\n      throw (error)\r\n    })\r\n  }\r\n}\r\n\r\nexport function whenWillPassThroughYou (c) {\r\n  return function (dispatch) {\r\n    return fetch(`//api.open-notify.org/iss-pass.json?lat=${c.lat}&lon=${c.long}`, { mode: 'cors' })\r\n      .then((response) => {\r\n        response.json().then(json => {\r\n          dispatch({ type: SAVE_WHEN_WILL_PASS_THROUGH, payload: json })\r\n        })\r\n      }).catch(error => {\r\n        throw (error)\r\n      })\r\n  }\r\n}\r\n\r\nexport function togglePeopleInfo () {\r\n  return {\r\n    type: TOGGLE_PEOPLE_INFO\r\n  }\r\n}\r\nexport function togglePassInfo () {\r\n  return {\r\n    type: TOGGLE_PASS_INFO\r\n  }\r\n}\r\n\r\nexport function toggleBasemap (basemap) {\r\n  return {\r\n    type: TOGGLE_BASEMAP,\r\n    payload: basemap\r\n  }\r\n}\r\n\r\n// ------------------------------------\r\n// Action Handlers\r\n// ------------------------------------\r\nconst ACTION_HANDLERS = {\r\n  [MAP_ADD_MARKER]: (state, action) => Object.assign({}, state, { position: action.payload }),\r\n  [UPDATE_PEOPLE_IN_SPACE]: (state, action) => Object.assign({}, state, { people: action.payload }),\r\n  [SAVE_WHEN_WILL_PASS_THROUGH]: (state, action) => Object.assign({}, state, { pass: action.payload }),\r\n  [TOGGLE_PASS_INFO]: (state, action) => Object.assign({}, state, { info: { pass: !state.info.pass, people: state.info.people } }),\r\n  [TOGGLE_PEOPLE_INFO]: (state, action) => Object.assign({}, state, { info: { people: !state.info.people, pass: state.info.pass } }),\r\n  [TOGGLE_BASEMAP]: (state, action) => Object.assign({}, state, { basemap: action.payload }),\r\n  [ADD_POINT_TO_LINE]: (state, action) => Object.assign({}, state, { line: state.line.concat([action.payload]) }),\r\n  [LOADING_START] : (state, action) => Object.assign({}, state, { loading: true }),\r\n  [LOADING_STOP] : (state, action) => Object.assign({}, state, { loading: false })\r\n}\r\n\r\n// ------------------------------------\r\n// Reducer\r\n// ------------------------------------\r\nconst initialState = {\r\n  loading : false,\r\n  position: [0, 0],\r\n  info: {\r\n    people: true,\r\n    pass: true\r\n  },\r\n  basemap: 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\r\n  line: [\r\n    [0, 0]\r\n  ]\r\n}\r\n\r\nexport default function counterReducer (state = initialState, action) {\r\n  const handler = ACTION_HANDLERS[action.type]\r\n  return handler ? handler(state, action) : state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Map/modules/map.js","import { connect } from 'react-redux'\r\nimport { initISSPosition, whoIsInSpace,whenWillPassThroughYou, togglePassInfo, togglePeopleInfo, toggleBasemap } from '../modules/map' //Actions\r\n\r\n/*  This is a container component. Notice it does not contain any JSX,\r\n    nor does it import React. This component is **only** responsible for\r\n    wiring in the actions and state necessary to render a presentational\r\n    component - in this case, the counter:   */\r\n\r\nimport MapView from '../components/MapView' // JSX Component\r\n\r\n/*  Object of action creators (can also be function that returns object).\r\n    Keys will be passed as props to presentational components. Here we are\r\n    implementing our wrapper around increment; the component doesn't care   */\r\n\r\nconst mapDispatchToProps = {\r\n  initISSPosition : () => initISSPosition(),\r\n  whoIsInSpace : () => whoIsInSpace(),\r\n  whenWillPassThroughYou : (coords) => whenWillPassThroughYou(coords),\r\n  togglePeopleInfo : () => togglePeopleInfo(),\r\n  togglePassInfo : () => togglePassInfo(),\r\n  toggleBasemap : (basemap) => toggleBasemap(basemap)\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  map : state.map\r\n})\r\n\r\n/*  Note: mapStateToProps is where you should use `reselect` to create selectors, ie:\r\n\r\n    import { createSelector } from 'reselect'\r\n    const counter = (state) => state.counter\r\n    const tripleCount = createSelector(counter, (count) => count * 3)\r\n    const mapStateToProps = (state) => ({\r\n      counter: tripleCount(state)\r\n    })\r\n\r\n    Selectors can compute derived data, allowing Redux to store the minimal possible state.\r\n    Selectors are efficient. A selector is not recomputed unless one of its arguments change.\r\n    Selectors are composable. They can be used as input to other selectors.\r\n    https://github.com/reactjs/reselect    */\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MapView)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/Map/container/MapContainer.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/defineProperty.js\n// module id = 733\n// module chunks = 0 1"],"sourceRoot":""}